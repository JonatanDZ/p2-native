<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products Page</title>
    <link rel="stylesheet" href="/public/css/global.css">
    <link rel="stylesheet" href="/public/css/admin/viewproducts.css">
    <link rel="stylesheet" href="/public/css/components/components.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div id="navbar"></div>

    <div id="main-container">
        <div id="sidebar-container"></div>

        <div id="content-container">
            <div class="container-fluid">
                <div class="api-call" data-endpoint="/get-events"></div>
                <div id="products-container" class="d-flex flex-wrap justify-content-center gap-3"></div>
            </div>
        </div>
    </div>
    <div id="footer"></div>
    <script>
            ///////////////////////////////
            //When clicking event, add to user_events table (which is used for event reccomender)
            let event_number = document.getElementsByClassName("event-link");
            for (let i = 0; i < event_number.length; i++) {
              event_number[i].addEventListener("click", async function () {
                console.log("CLICKED!");
                const userID = 2; //Insert userID here (somehow)
                const eventID = events[i].id;
                //Make a POST with userID and eventID
                try {
                  const response = await fetch(
                    "http://localhost:3000/event-detail",
                    {
                      method: "POST",
                      headers: { "Content-Type": "application/json" },
                      body: JSON.stringify({ userID, eventID }),
                    }
                  );
                } catch (err) {
                  console.error("Error:", err);
                  alert("Something went wrong. Try again.");
                }
              });
            }
              //////////////////////
    </script>
     </script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
     <script type="module" src="/public/js/admin/viewevents.js"></script>
     <script src="/public/js/components/sidebarProducts.js"></script>
     <script src="/public/js/components/navbar.js"></script>
     <script src="/public/js/components/footer.js"></script>
  </body>
</html>
