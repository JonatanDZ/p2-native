<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main</title>
    <link rel="stylesheet" href="/public/css/global.css" />
    <style>
.image-container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  margin: 20px 0;
}

.image-container .card {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 13%;
  background-color: #fff;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}

.image-container .card:hover {
  transform: scale(1.05);
}

.image-container .card img {
  width: 100%;
  height: 300px;
  object-fit: cover;
}

    </style>
  </head>
  <body>
    <main>
      <div id="navbar"></div>
      <div>
        <h1>Recommendations</h1>  
        <div class="image-container" id="recommendations">
          <!-- images will be displayed here -->
        </div>
        
        <h1>products</h1>
        <div class="image-container" id="products">
          <!-- images will be displayed here -->
        </div>
        
        <h1>Recent</h1>
        <div class="image-container" id="recent">
          <!-- images will be displayed here -->
        </div>
      </div>
      <div id="footer"></div>

      <script src="/public/js/components/navbar.js"></script>
      <script src="/public/js/components/footer.js"></script>
      <script>
fetch("/public/data.json")
  .then(res => res.json())
  .then(data => {
    const renderProducts = (containerId) => {
      const container = document.getElementById(containerId);
        if (!container || !data.products) return;

          container.innerHTML = '';

            data.products.forEach((product, index) => {
              const card = document.createElement('div');
                card.className = 'card';

                const img = document.createElement('img');
                img.src = product.picture;
                img.alt = product.name || `${containerId} ${index + 1}`;

                const title = document.createElement('h3');
                title.textContent = product.name || 'Untitled';

                const price = document.createElement('p');
                price.textContent = product.price ? `${product.price} DKK` : 'No price';

    card.appendChild(img);
    card.appendChild(title);
    container.appendChild(card);
      });
    };
    

    renderProducts('recommendations');
    renderProducts('products');
    renderProducts('recent');
  })
  .catch(err => console.error('Failed to load dynamic product data:', err));
      </script>
    </main>
  </body>
</html>